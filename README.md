# atcoder-scm
AtCoderに提出した最新のACコードをリモートリポジトリにプッシュして管理します。

<br>
<br>
<br>

# 使い方

`config.toml`にユーザ設定を書いてください。
書き方は`config.sample.toml`を参考にしてください。

<br>
<br>

URLで指定したリポジトリは、mainブランチを作成した状態でGitHubなどのリモート環境に用意してください。

また、`git clone`、`git push`に相当する操作を行うため、リポジトリに対してSSH接続でこれらの操作が行えるようにしておく必要があります。

<br>
<br>

準備が出来たら以下のコマンドを実行します。

```
poetry install
poetry run python main.py
```

<br>
<br>

ユーザの全提出履歴を取得した後、問題ごとに最新のACコードがあればAtCoderの提出ページからソースコードをスクレイピングします。

その後、クローンしてきたローカルリポジトリにソースファイルを「分類名 > コンテスト名 > 問題名 > ソースファイル」のような階層を作って配置していきます。このとき、古いACコードがある場合は置き換えられます。

最後に、更新したリポジトリをリモートにプッシュし直します。更新作業で使用したローカルリポジトリは終了時に自動で削除されます。

初回の実行などで更新されるソースファイルが多い場合、1秒ずつ間隔を開けてスクレイピング処理を行っているため、実行完了までに時間がかかることがあります。

<br>
<br>
<br>

## ライセンス
[MIT](https://github.com/tawainfer/atcoder-scm/blob/main/LICENSE)
